<!DOCTYPE html>
<html><head><meta content="width=device-width, initial-scale=1" name="viewport"><meta charset="utf-8"><!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-3VM2LWXJF8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-3VM2LWXJF8');
</script>
<link href="resource/site/k.png" rel="icon" type="image/x-icon"><link href="resource/site/css/layout.css" rel="stylesheet" type="text/css"><link href="resource/site/css/header.css" rel="stylesheet" type="text/css"><link href="resource/site/css/footer.css" rel="stylesheet" type="text/css"><link href="resource/site/css/article.css" rel="stylesheet" type="text/css"><link href="resource/site/css/anchor.css" rel="stylesheet" type="text/css"><link href="resource/site/css/highlight_fragment.css" rel="stylesheet" type="text/css"><title>근로저Clojure 입문 - Hello World</title><link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/agate.min.css" integrity="sha512-wI7oXtzNHj/bqfLA3P6x3XYbcwzsnIKaPLfjjX8ZAXhc65+kSI6sh8gLOOByOKImokAjHUQR0xAJQ/xZTzwuOA==" referrerpolicy="no-referrer" rel="stylesheet"></head><body><header class="container"><hr><div class="site-title"><a class="only-cursor" href="/">KUR Creative</a></div><hr><nav class="navigation"><a class="only-cursor" href="archive">archive</a><a class="only-cursor" href="series">series</a><a class="only-cursor" href="tags">tags</a><a class="only-cursor" href="subscribe">subscribe</a><a href="https://www.google.com/search?q=site%3Ablog.kurcreative.com+공사중.."><img height="20px" src="resource/site/search.png" width="20px"></a></nav><hr></header><article class="container"><a class="series-top-link" href="series#Clojure입문">Clojure입문</a><h1>근로저Clojure 입문 - Hello World</h1><p><img src="resource/chury1.png" alt="resource/chury1.png"><br>
근로저의 장점에 대해 하루 종일도 약을 팔 수 있지만, 그런 것보다 직접 써보게 하면서 팔아 보려 한다.</p>
<p><img src="resource/chury2.png" alt="resource/chury2.png"><br>
<small>코에 들이대지 말고 입에다 바로 쳐넣었어야지..</small></p>
<h2 id="Linux-설치" tabindex="-1"><a class="only-cursor" href="#Linux-설치">Linux 설치</a></h2>
<p>제발 리눅스 설치해라. 두번해라. 세번해라. <small>농담이고 <a href="https://gall.dcinside.com/mgallery/board/view/?id=github&amp;no=25168">한번만</a> 해라.</small></p>
<p>거의 모든 근로저 라이브러리나 리소스가 <strong>Unix-like 쉘에서 사용하는 것을 가정</strong>한다.<br>
근로저는 애초에 대부분 서버용<sup class="footnote-ref"><a href="#fn1" id="fnref1">[1]</a></sup>으로 쓰이는 언어이기도 하고, 윈도우에서 쓰는 사람이 거의 없다.<br>
이런 언어를 쓰는데 윈도를 고집하다 보면 윈도의 졷같은 경로나 괴상한 정책 땜에 문제가 생겨도 도와줄 수 있는 사람이 없다. 근로저만 해도 힙스턴데 그걸 윈도랑 쓰는 새끼<sup class="footnote-ref"><a href="#fn2" id="fnref2">[2]</a></sup>는 진짜 미친 힙스터새끼기 때문에...</p>
<p>그래서 다음 명령어를 어디에 집어 넣는 건지, 출력은 뭐가 나오는지 모르는 사람은 솔직히 근로저를 배울 수도 활용할 수도 없다.<br>
<code>$ ls -l /home</code></p>
<p>리눅스 설치해라. 요새 깃갤에서 <a href="https://gall.dcinside.com/mgallery/board/view/?id=github&amp;no=44863">리눅스 데탑</a> <a href="https://gall.dcinside.com/mgallery/board/view/?id=github&amp;no=44901">내려치기</a> 하던데 모르겠고 근로저 쓸거면 인간적으로 리눅스 설치해라.<br>
아니면 최소한 맥북이라도 써라. 근데 리눅스가 공짜니까 리눅스 설치해라.</p>
<p><img src="resource/ubuntu-better-than-windows.jpg" alt="resource/ubuntu-better-than-windows.jpg"><br>
신뢰와 믿음의 <a href="https://ubuntu.com/tutorials/install-ubuntu-desktop#1-overview">갓분투 LTS</a> 설치해라.</p>
<p><a href="https://rufus.ie/ko/">rufus</a>로 USB에 우분투 iso 이미지 박아서 부팅 디스크 만들고 컴에 USB 박아 넣고 전원 누르고 del 연타해서 BIOS 들어간 다음 USB 부팅되게 하고 껐다 켠 다음에 시키는 대로 하면 설치가 된다. 참 쉽죠?</p>
<p>진짜 쉬우니까 이번 기회에 리눅스 설치해 보자.<br>
<small>사실 나는 만자로 쓰지만... 아무튼 설치해라..</small></p>
<p><u>이제부터 독자는 리눅스를 쓸 수 있으며, 터미널(에뮬레이터)에서 쉘 커맨드를 실행할 줄 안다고 가정한다.</u> <s>모르면 배우세요!</s></p>
<p><img src="resource/open-in-terminal.png" alt="resource/open-in-terminal.png"><br>
참고로 (GNOME DE 기준) 파일 익스플로러에서 오른쪽 마우스키를 누르면 <code>Open in terminal</code> 같은 게 나오는데, 이걸 누르면 터미널 에뮬레이터에서 현재 경로의 쉘을 띄워준다.</p>
<p><img src="resource/the-terminal.png" alt="resource/the-terminal.png"><br>
여기다 명령어를 입력하고 엔터를 누르면 쉘 커맨드를 실행할 수 있다.</p>
<h2 id="Clojure-설치" tabindex="-1"><a class="only-cursor" href="#Clojure-설치">Clojure 설치</a></h2>
<p>배포판에서 패키지를 제공한다면 꽤끼지 매니저를 써서 Clojure를 설치할 수 있다. 만자로나 arch의 경우는 가능하다.</p>
<pre><code class="hljs language-bash">sudo pacman -Syu
sudo pacman -S clojure
</code></pre>
<p>우분투나 데비안 계열은 apt를 써야 하는데 여기는 Clojure를 패키지로 제공하진 않는 거 같다. 그러면 공홈에서 제공하는 <a href="https://clojure.org/guides/install_clojure">스크립트</a>를 써야하는데 별로 어려운 건 없다.</p>
<p>먼저 <code>bash</code>  <code>curl</code> <code>java</code> <code>rlwrap</code>이 설치되어 있어야 한다.<br>
근데 bash랑 curl은 보통 설치되어 있으니까 갓바랑 rlwrap만 설치하면 된다.<br>
<code>sudo apt-get install openjdk-11-jdk rlwrap</code></p>
<p>이제 다음을 실행하면 알아서 스크립트를 받고 설치해준다.</p>
<pre><code class="hljs language-bash">curl -O https://download.clojure.org/install/linux-install-1.11.1.1224.sh
<span class="hljs-built_in">chmod</span> +x linux-install-1.11.1.1224.sh
sudo ./linux-install-1.11.1.1224.sh
</code></pre>
<p>다음 명령어를 실행했을 때 결과가 제대로 나오면 성공한 것이다<br>
명령: <code>clj --version</code><br>
결과: <code>Clojure CLI version 1.11.1.1208</code></p>
<h2 id="Hello-World!" tabindex="-1"><a class="only-cursor" href="#Hello-World!">Hello World!</a></h2>
<h3 id="REPL에서-hello-world" tabindex="-1"><a class="only-cursor" href="#REPL에서-hello-world">REPL에서 hello world</a></h3>
<p>REPL은 <code>Read Eval Print Loop</code>의 두문자어다. 명령을 읽고Read, 해석Eval<sup class="footnote-ref"><a href="#fn3" id="fnref3">[3]</a></sup>하고, 해석 결과를 출력Print하고, 이걸 반복Loop하는 프로그램이다. 다음 명령으로 근로저 REPL을 켤 수 있다.<br>
<code>clj</code></p>
<p>그러면 이렇게 뜬다.</p>
<pre><code class="hljs"><span class="hljs-attribute">Clojure</span> <span class="hljs-number">1</span>.<span class="hljs-number">11</span>.<span class="hljs-number">1</span>
<span class="hljs-attribute">user</span>=&gt; 
</code></pre>
<p>프롬프트에 코드를 입력한 뒤 enter를 누르면 입력된 코드를 해석하고, 결과를 출력해 주고 다시 프롬프트를 띄운다.</p>
<pre><code class="hljs"><span class="hljs-meta prompt_">user=&gt;</span><span class="language-clojure"> (<span class="hljs-name">println</span> <span class="hljs-string">&quot;Hello World!&quot;</span>)</span>
Hello World!
nil
<span class="hljs-meta prompt_">user=&gt;</span><span class="language-clojure"> (<span class="hljs-name">println</span> <span class="hljs-string">&quot;안뇽안뇽&quot;</span>)</span>
안뇽안뇽
nil
<span class="hljs-meta prompt_">user=&gt;</span><span class="language-clojure"> (<span class="hljs-name"><span class="hljs-built_in">+</span></span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span>)</span>
10
<span class="hljs-meta prompt_">user=&gt;</span><span class="language-clojure"> </span>
</code></pre>
<h3 id="파일에서-hello-world:-무작정-따라하기" tabindex="-1"><a class="only-cursor" href="#파일에서-hello-world:-무작정-따라하기">파일에서 hello world: 무작정 따라하기</a></h3>
<p>최근 근로저는 동봉된 <code>clj</code>가 쓸만해져서 <code>lein</code>이나 <code>boot</code> 같은 서드 파티 빌드 툴 없이 <code>clj</code>만 써도 충분히 굴릴만 하다<sup class="footnote-ref"><a href="#fn4" id="fnref4">[4]</a></sup>. 내가 이 <a href="https://eunmin.gitbooks.io/clojure-for-beginners/content/1_hello_world.html">튜토리얼을 쓰게 된 이유</a>이기도 하다.</p>
<p>먼저 가장 간단한 클로저 프로젝트를 만들자. 정말 별 거 없다.<br>
<code>src</code> 디렉토리를 만들고 거기 <code>.clj</code> 파일을 추가하기만 하면 된다.</p>
<pre><code class="hljs language-bash"><span class="hljs-built_in">mkdir</span> src
<span class="hljs-built_in">touch</span> src/hello.clj
</code></pre>
<p>(물론 꼭 명령어 쓸 필요 없이 마우스로 해도 된다)</p>
<p>이제 <code>src</code> 아래 생성된 <code>hello.clj</code>에서 헬로월드를 실행할 수 있게 고쳐보자. 에디터는 아무거나 써도 된다. 다음을 입력하자. 복붙해도 된다!</p>
<pre><code class="hljs language-clojure">(<span class="hljs-name"><span class="hljs-built_in">ns</span></span> hello)

(<span class="hljs-keyword">defn</span> <span class="hljs-title">f</span> [opts] 
  (<span class="hljs-name">println</span> <span class="hljs-string">&quot;hello world&quot;</span>))
</code></pre>
<p>됐는가? <code>tree .</code>와 <code>cat src/hello.clj</code> 명령어 실행 결과가 다음과 같다면 된 것이다.</p>
<pre><code class="hljs language-bash">tree .
.
└── src
    └── hello.clj

2 directories, 1 file
</code></pre>
<pre><code class="hljs language-bash"><span class="hljs-built_in">cat</span> src/hello.clj
(ns hello)

(defn f [opts] 
  (println <span class="hljs-string">&quot;hello world&quot;</span>))
</code></pre>
<p>이제 다음을 실행하면 된다<br>
<code>clj -X hello/f</code></p>
<p>결과는 다음과 같다<br>
<code>hello world</code></p>
<h3 id="파일에서-hello-world:-코드-설명" tabindex="-1"><a class="only-cursor" href="#파일에서-hello-world:-코드-설명">파일에서 hello world: 코드 설명</a></h3>
<p>방금 뭘 한거지? 하나하나 설명해 주겠다.</p>
<p>다른 많은 언어에서는 다음처럼 다양한 문법을 제공한다</p>
<pre><code class="hljs">x = <span class="hljs-number">1</span> + <span class="hljs-number">2</span> * b              // 계산식 statement
<span class="hljs-type">System</span>.<span class="hljs-keyword">out</span>.println(<span class="hljs-string">&quot;ppap&quot;</span>) // <span class="hljs-type">Java</span> 등의 메서드 호출
<span class="hljs-type">int</span> f(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b) <span class="hljs-meta">{...}</span>  // C계열 언어의 함수 정의
<span class="hljs-comment">#define MACRO(x) ...       // C 매크로 정의</span>
f(a, b, c)                 // C계열 언어의 함수/매크로 호출
</code></pre>
<p>근로저 문법은 별 게 없다. 근로저는 실행 문법으로 단! 하나! 만 제공한다</p>
<p><code>(f a b c)</code></p>
<p>이게 끝이다. C계열 함수 호출과 비슷하지만 괄호를 맨 앞에 써야 하고 쉼표를 생략할 수 있다.<br>
그러면 우리가 작성한 코드를 해석해 보자.</p>
<pre><code class="hljs language-clojure">(<span class="hljs-name"><span class="hljs-built_in">ns</span></span> hello)

(<span class="hljs-keyword">defn</span> <span class="hljs-title">f</span> [opts] 
  (<span class="hljs-name">println</span> <span class="hljs-string">&quot;hello world&quot;</span>))
</code></pre>
<p><code>ns defn println</code>은 언어가 미리 정의해둔 것들이다.</p>
<pre><code class="hljs language-clojure">(<span class="hljs-name"><span class="hljs-built_in">ns</span></span> hello)
</code></pre>
<p><code>ns</code>는 현재 네임스페이스를 정의한다. <code>ns</code>로 현재 네임스페이스를 정의한 뒤, 네임스페이스 안에서 데이터나 함수를 정의할 수 있다.</p>
<pre><code class="hljs language-clojure">(<span class="hljs-keyword">defn</span> <span class="hljs-title">f</span> [opts] 
  (<span class="hljs-name">println</span> <span class="hljs-string">&quot;hello world&quot;</span>))
</code></pre>
<p><code>defn</code>은 함수를 정의한다. 위 코드는 인자 <code>opts</code>를 하나 받는 <code>f</code>라는 이름의 함수를 정의한다. 함수의 body에는 &quot;hello world&quot;를 출력하는 표현식이 있다.</p>
<h3 id="파일에서-hello-world:-실행-설명" tabindex="-1"><a class="only-cursor" href="#파일에서-hello-world:-실행-설명">파일에서 hello world: 실행 설명</a></h3>
<p><code>clj</code>는 Clojure CLI tool로, REPL과 Clojure 프로그램/표현식 실행기를 제공한다. 우리는 방금 Clojure 실행기를 써서 코드를 실행한 것이다.</p>
<p><code>clj</code>는 <code>-X</code> 옵션을 써서 인자를 하나 받는 함수를 실행할 수 있다.<br>
<code>clj -X ns-name/fn-name</code></p>
<h2 id="요약" tabindex="-1"><a class="only-cursor" href="#요약">요약</a></h2>
<ul>
<li>근로저 개발에 유닉스 쉘은 선택이 아닌 필수. 리눅스를 설치하고 익숙해지자</li>
<li>Clojure를 설치해 보자</li>
<li>헬로월드를 실행해 보자
<ul>
<li>클로저의 실행 문법은 <code>(f a b c)</code> 밖에 없다</li>
<li><code>clj -X</code>로 파일에 정의한 함수를 실행할 수 있다</li>
</ul>
</li>
</ul>
<h2 id="마지막으로.." tabindex="-1"><a class="only-cursor" href="#마지막으로..">마지막으로..</a></h2>
<p>어떤가? 정말 쉽지 않은가? 하지만 원래 아무리 언어가 어려워도 헬로 월드는 쉬운 법이다..</p>
<p>이번에 헬로월드를 봤으니, 다음 튜토리얼에서는 <s>실제로 프로젝트를 굴리는 법을 설명하겠다</s>. 에디터로 코드를 작성하고, REPL에 연결하여 실행하면서 코딩하고, <s>jar로 컴파일하여 배포하는 법 등이 되겠다</s>.<br>
이 때도 내가 아는 가장 간단하고 쉬운 방법, 시대에 뒤쳐지지 않은 모던한 방법과 함께 중요 개념들을 설명할 것이다.</p>
<p>영어를 할 줄 안다면 <a href="https://clojure.org/guides/guides">근로저 공식사이트 가이드 글</a>을 정독하는 것이 큰 도움이 된다. 사실 나도 그렇게 배웠다.</p>
<ul>
<li><a href="https://clojure.org/guides/install_clojure">https://clojure.org/guides/install_clojure</a> 설치 방법</li>
<li><a href="https://clojure.org/guides/deps_and_cli">https://clojure.org/guides/deps_and_cli</a> <code>clj</code> 관련</li>
<li><a href="https://johngrib.github.io/search/?searchString=clojure">https://johngrib.github.io/search/?searchString=clojure</a> <code>종립</code> 센세가 한글로 번역한 글들이 많다. 영어로 직접 공홈 가이드 글을 보며 배우는게 최선이지만 힘들다면 이걸 봐도 된다.</li>
<li><a href="https://clojuredocs.org/">https://clojuredocs.org/</a> 코어 라이브러리 레퍼런스와 함께 사용례들을 제공한다. <code>ns</code> <code>defn</code> <code>println</code>을 검색해 보자.</li>
</ul>
<hr class="footnotes-sep">
<section class="footnotes">
<ol class="footnotes-list">
<li id="fn1" class="footnote-item"><p>근로저 창시자 힛키쿤도 딱히 의도한 건 아니지만, 자기가 해왔던 일이 서버 쪽이었기에 만들고 보니 그렇게 되었다고 한다: <a href="https://youtu.be/2V1FtfBDsLU?t=651">'Situated' Programs</a>, <a href="https://github.com/matthiasn/talk-transcripts/blob/master/Hickey_Rich/EffectivePrograms.md">transcript</a> <a href="#fnref1" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn2" class="footnote-item"><p>방법이 있긴 한데 절대로 권장하지 않는다. <a href="https://github.com/clojure/tools.deps.alpha/wiki/clj-on-Windows">https://github.com/clojure/tools.deps.alpha/wiki/clj-on-Windows</a> 시작은 리눅스에서 하는 게 낫고 정말로 윈도우에서 하고 싶으면 내가 Clojure 실력이 좀 친다 싶을 때 새로운 도전으로 해보자. <a href="#fnref2" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn3" class="footnote-item"><p>Evaluate의 <a href="https://en.dict.naver.com/#/entry/enko/f76be909e4aa4e8481282dc130c66525">사전적 의미</a>는 &quot;평가하다&quot;지만, 사실 REPL의 Eval은 수학적 의미에서 &quot;값을 구하다&quot;에 가깝다. 하지만 뉴비에게는 &quot;해석하다&quot;가 더 와닿을 거 같아서 이렇게 썼다. <a href="#fnref3" class="footnote-backref">↩︎</a></p>
</li>
<li id="fn4" class="footnote-item"><p>점점 더 많은 사람들이 서드 파티 빌드 툴이 아니라 clj를 쓰고 있다 <a href="https://clojure.org/news/2022/06/02/state-of-clojure-2022#_working_with_clojure">https://clojure.org/news/2022/06/02/state-of-clojure-2022#_working_with_clojure</a> <a href="#fnref4" class="footnote-backref">↩︎</a></p>
</li>
</ol>
</section>
<div class="tags-pane"><a class="tag" href="tags#lang/clojure">#lang/clojure</a><a class="tag" href="tags#tutorial튜토리얼">#tutorial튜토리얼</a></div><div class="post-link-pane"><a class="hover-link" href="kur2302130745">이전글</a><a class="hover-link" href="series#Clojure입문">Clojure입문</a><span class="no-post">다음글</span></div><div class="post-link-pane"><a class="hover-link" href="kur2302130745">kur2302130745</a><a class="hover-link" href="archive#kur2302130907">Archive</a><a class="hover-link" href="kur2302251921">kur2302251921</a></div></article><footer class="container"><div class="site-footer">Copyright 2023 KUR. All Rights Reserved.</div></footer></body></html>